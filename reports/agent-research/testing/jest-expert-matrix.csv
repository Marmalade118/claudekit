Category,Symptom/Error,Root Cause,Fix 1,Fix 2,Fix 3,Diagnostic Command,Validation Step,Official Link
Configuration,"Cannot find module 'jest'",Jest not installed or incorrect path,npm install --save-dev jest,Add jest to package.json devDependencies,Use npx jest if globally installed,npm list jest,jest --version,https://jestjs.io/docs/getting-started
Configuration,"Jest configuration not found",Missing or invalid jest.config.js,Create jest.config.js with module.exports,Add jest field to package.json,Use --config flag with jest command,jest --showConfig,Check config file exists and exports object,https://jestjs.io/docs/configuration
Configuration,"SyntaxError: Cannot use import statement outside a module",ESM/CommonJS mismatch,Add type: module to package.json,Configure babel-jest transformer,Use ts-jest with ESM preset,node --version && npm list babel-jest,Run single test file to verify,https://jestjs.io/docs/ecmascript-modules
Configuration,"ReferenceError: window is not defined",Wrong test environment (Node vs jsdom),Set testEnvironment: 'jsdom' in config,Add @jest-environment jsdom docblock,Install jest-environment-jsdom,jest --showConfig | grep testEnvironment,Run DOM-dependent test,https://jestjs.io/docs/configuration#testenvironment-string
Configuration,"TypeError: Cannot read property of undefined (regeneratorRuntime)",Missing async/await polyfill,Install @babel/preset-env with targets,Add babel-polyfill to setupFilesAfterEnv,Configure regenerator-runtime,npm list @babel/preset-env,Test async function,https://jestjs.io/docs/getting-started#using-babel
TypeScript,"TypeScript files not being transformed",ts-jest not configured,npm install --save-dev ts-jest,Add ts-jest to transform config,Use typescript preset,npm list ts-jest,jest --showConfig | grep transform,https://jestjs.io/docs/getting-started#using-typescript
TypeScript,"Cannot find module (TypeScript paths)",Path mapping not configured,Add moduleNameMapping to jest config,Configure ts-jest with tsconfig,Use babel-plugin-module-resolver,cat tsconfig.json | grep paths,Import with mapped path,https://kulshekhar.github.io/ts-jest/docs/getting-started/paths-mapping
TypeScript,"Type errors in test files",Incorrect TypeScript types,Install @types/jest,Add jest types to tsconfig,Use jest.MockedFunction type,tsc --noEmit --project .,TypeScript compilation succeeds,https://jestjs.io/docs/getting-started#type-definitions
Mocking,"TypeError: Cannot redefine property",Attempting to mock non-configurable property,Use Object.defineProperty with writable,Create manual mock in __mocks__,Use jest.doMock for conditional mocks,node -e "console.log(Object.getOwnPropertyDescriptor(obj 'prop'))",Mock function executes correctly,https://jestjs.io/docs/manual-mocks
Mocking,"Mock implementation not called",Mock not properly configured,Verify mock is called before test code,Use jest.fn() for function mocks,Check mock.calls array,console.log(mockFn.mock.calls),Assert mock.toHaveBeenCalled(),https://jestjs.io/docs/mock-functions
Mocking,"Module mock not working",Incorrect mock timing or hoisting,Move jest.mock() to top of file,Use jest.doMock() for runtime mocking,Create manual mock file,jest --verbose --testNamePattern="test name",Verify mocked module behavior,https://jestjs.io/docs/es6-class-mocks
Mocking,"Timer mocks not advancing",Fake timers not properly configured,Call jest.useFakeTimers() before test,Use jest.advanceTimersByTime(),Call jest.runAllTimers() for all timers,jest --verbose --testNamePattern="timer test",Verify timer callbacks execute,https://jestjs.io/docs/timer-mocks
Mocking,"Async mock not resolving",Promise mock incorrect implementation,Use mockResolvedValue() for promises,Return Promise.resolve() in mock,Use async/await in test,jest --verbose --testNamePattern="async test",Await mock promise,https://jestjs.io/docs/asynchronous#resolves--rejects
Async,"Test timeout exceeded",Async operation not completing,Increase test timeout with setTimeout,Add return/await to promises,Use done callback for callbacks,jest --verbose --detectOpenHandles,Test completes within timeout,https://jestjs.io/docs/asynchronous
Async,"Promise rejection unhandled",Missing error handling in test,Add .catch() or try/catch,Use expect().rejects.toThrow(),Add return statement to promise,node --unhandled-rejections=strict,No unhandled promise rejections,https://jestjs.io/docs/asynchronous#resolves--rejects
Async,"Race condition in tests",Timing-dependent test logic,Use waitFor() or findBy queries,Mock external dependencies,Add proper async/await,jest --verbose --runInBand,Test passes consistently,https://testing-library.com/docs/guide-disappearance
Async,"done() callback not called",Missing done() in callback test,Call done() in test callback,Handle error cases with done(error),Convert to async/await pattern,jest --verbose --testNamePattern="callback test",Test completes successfully,https://jestjs.io/docs/asynchronous#callbacks
Snapshots,"Snapshot test failed",Component output changed,Review snapshot diff carefully,Update snapshot with -u flag,Rewrite test with specific assertions,jest --verbose --testNamePattern="snapshot",New snapshot matches component,https://jestjs.io/docs/snapshot-testing
Snapshots,"Cannot write snapshot",File system permissions issue,Check directory write permissions,Run jest with --ci flag,Use inline snapshots instead,ls -la __snapshots__,Snapshot file created successfully,https://jestjs.io/docs/snapshot-testing#inline-snapshots
Snapshots,"Snapshot serializer not working",Custom serializer not registered,Add serializer to setupFilesAfterEnv,Configure snapshotSerializers in config,Use expect.addSnapshotSerializer(),jest --showConfig | grep snapshotSerializers,Custom serialization applied,https://jestjs.io/docs/configuration#snapshotserializers-arraystring
Snapshots,"Snapshot too large",Snapshot contains unnecessary data,Use custom serializers to filter,Create focused component snapshots,Use toMatchSnapshot with property matchers,wc -l __snapshots__/*.snap,Snapshot size reduced,https://jestjs.io/docs/snapshot-testing#property-matchers
Performance,"Tests running slowly",Inefficient test setup or execution,Use --maxWorkers to limit parallelism,Optimize beforeEach/afterEach setup,Cache expensive operations,time jest --passWithNoTests,Test execution time improved,https://jestjs.io/docs/troubleshooting#tests-are-slow
Performance,"Out of memory error",Memory leak in tests or large datasets,Use --maxWorkers=1 to reduce memory,Clean up resources in afterEach,Use heap snapshots for debugging,jest --logHeapUsage,Memory usage stays within limits,https://jestjs.io/docs/troubleshooting#tests-are-slow
Performance,"Jest worker crashed",Resource exhaustion or memory issues,Reduce --maxWorkers count,Increase Node.js memory limit,Split large test files,jest --verbose --runInBand,All workers complete successfully,https://jestjs.io/docs/troubleshooting
Coverage,"Coverage report empty",No files matching coverage patterns,Update collectCoverageFrom patterns,Check file extensions in patterns,Verify source files exist,jest --coverage --verbose,Coverage report shows files,https://jestjs.io/docs/configuration#collectcoveragefrom-array
Coverage,"Coverage threshold not met",Insufficient test coverage,Add tests for uncovered code,Update coverage thresholds,Use --coverageThreshold to override,jest --coverage --verbose,Coverage meets threshold requirements,https://jestjs.io/docs/configuration#coveragethreshold-object
Coverage,"Coverage report incorrect",Source maps or transformation issues,Configure source maps in transformer,Update babel/typescript config,Use --coverage --no-cache,jest --coverage --verbose --no-cache,Coverage accurately reflects source,https://jestjs.io/docs/configuration#coveragepathignorepatterns-arraystring
Debugging,"Cannot debug Jest tests",Debugger not attaching correctly,Use --inspect-brk flag with node,Run jest with --runInBand,Set debugger breakpoints,node --inspect-brk node_modules/.bin/jest --runInBand,Debugger stops at breakpoint,https://jestjs.io/docs/troubleshooting#debugging-in-vs-code
Debugging,"Console.log not showing",Output suppressed by Jest,Use --verbose flag,Set silent: false in config,Use console.error instead,jest --verbose --testNamePattern="debug test",Console output visible,https://jestjs.io/docs/configuration#silent-boolean
Debugging,"Test file not found",Incorrect test file patterns,Check testMatch patterns in config,Verify file naming convention,Use --listTests to see matched files,jest --listTests,Test files appear in list,https://jestjs.io/docs/configuration#testmatch-arraystring
CI/CD,"Tests fail only in CI",Environment differences,Ensure consistent Node.js version,Set CI=true environment variable,Use --ci flag for CI behavior,node --version && npm --version,Tests pass in CI environment,https://jestjs.io/docs/troubleshooting#tests-fail-in-the-ci-but-pass-locally
CI/CD,"Jest cache issues in CI",Stale cache between builds,Use --no-cache flag in CI,Clear jest cache in CI script,Set cacheDirectory to temp location,jest --clearCache,Cache cleared successfully,https://jestjs.io/docs/cli#--cache
CI/CD,"Flaky tests in parallel execution",Race conditions between tests,Use --runInBand for sequential tests,Improve test isolation,Mock shared resources,jest --runInBand --verbose,Tests pass consistently,https://jestjs.io/docs/troubleshooting#tests-fail-intermittently
Setup,"Global setup not running",Setup file not configured correctly,Add globalSetup to jest config,Verify setup file exports function,Check setup file path,jest --showConfig | grep globalSetup,Setup function executes before tests,https://jestjs.io/docs/configuration#globalsetup-string
Setup,"teardown not cleaning up",Global teardown issues,Add globalTeardown to config,Export async function from teardown,Handle teardown errors properly,jest --detectOpenHandles,No open handles after tests,https://jestjs.io/docs/configuration#globalteardown-string
Setup,"setupFilesAfterEnv not loading",Setup file path incorrect,Check setupFilesAfterEnv path,Verify file exists and exports,Use absolute path or rootDir,ls -la $(pwd)/setupTests.js,Setup file loads before tests,https://jestjs.io/docs/configuration#setupfilesafterenv-array
Matchers,"Custom matcher not working",Matcher not properly registered,Add to setupFilesAfterEnv file,Use expect.extend() correctly,Return proper matcher result object,jest --verbose --testNamePattern="custom matcher",Custom matcher functions correctly,https://jestjs.io/docs/expect#expectextendmatchers
Matchers,"Matcher type errors",TypeScript types not extended,Extend Jest namespace in types file,Install @types/jest,Add custom matcher types,tsc --noEmit,TypeScript recognizes custom matchers,https://jestjs.io/docs/expect#typescript
Watch,"Watch mode not detecting changes",File watcher issues,Use --watchAll instead of --watch,Check .gitignore patterns,Configure watchman if available,jest --watch --verbose,File changes trigger test runs,https://jestjs.io/docs/cli#--watch
Watch,"Too many files watched",Watch pattern too broad,Configure testPathIgnorePatterns,Use more specific file patterns,Exclude node_modules and build dirs,jest --showConfig | grep testPathIgnore,Only relevant files watched,https://jestjs.io/docs/configuration#testpathignorepatterns-arraystring
ESM,"ES modules not supported",Node.js version or configuration,Use Node.js 14+ with ESM support,Add experimental-modules flag,Configure jest for ESM,node --version,ES modules work correctly,https://jestjs.io/docs/ecmascript-modules
ESM,"Dynamic imports failing",ESM configuration incomplete,Use babel-plugin-dynamic-import,Configure jest.config.mjs,Set NODE_OPTIONS for experimental features,node --experimental-modules --version,Dynamic imports resolve correctly,https://jestjs.io/docs/ecmascript-modules#dynamic-imports
Babel,"Babel transformation errors",Babel config incompatible,Update babel preset configuration,Install missing babel plugins,Use babel-jest transformer,npx babel src --out-dir build,Files transform without errors,https://jestjs.io/docs/getting-started#using-babel
Babel,"Babel preset not working",Incorrect preset configuration,Check .babelrc or babel.config.js,Install babel preset dependencies,Use env-specific configuration,npx babel --version,Preset applies correctly,https://babeljs.io/docs/en/configuration