Category,Symptom/Error,Root Cause,Fix 1,Fix 2,Fix 3,Diagnostic Command,Validation Step,Official Link
Configuration,"""Cannot find module 'vitest/config'""",Missing Vitest installation or wrong import,"""npm install -D vitest""","""Update import to 'vite/config' if using Vite""","""Add vitest to package.json dependencies""","""npm ls vitest""","""Check if vitest is in node_modules""",https://vitest.dev/guide/
Configuration,"""Tests not discovered""",Incorrect glob patterns in include,"""Update include: ['**/*.{test,spec}.{js,ts}']""","""Check file naming conventions""","""Add includeSource for in-source tests""","""vitest --reporter=verbose --run""","""Verify test files match include patterns""",https://vitest.dev/config/#include
Jest Migration,"""jest.mock is not a function""",Using Jest API in Vitest environment,"""Replace jest.mock with vi.mock""","""Import vi from 'vitest'""","""Enable globals: true in config""","""vitest --reporter=verbose""","""Check mock functionality works""",https://vitest.dev/guide/migration.html
Jest Migration,"""mockReset doesn't clear implementation""",Different mock behavior between Jest/Vitest,"""Use vi.clearAllMocks() instead""","""Understand Vitest restores original implementation""","""Configure clearMocks: true in config""","""vi.mocked(fn).getMockImplementation()""","""Verify mock state after reset""",https://vitest.dev/guide/migration.html#mockreset
Browser Mode,"""Browser provider not found""",Missing browser provider package,"""npm install -D @vitest/browser playwright""","""Install webdriverio if using webdriverio provider""","""Check provider spelling in config""","""npx playwright install""","""Browser tests run without errors""",https://vitest.dev/guide/browser/
Browser Mode,"""Page not defined""",Missing browser context import,"""Import { page } from '@vitest/browser/context'""","""Add TypeScript reference for browser types""","""Check browser.enabled is true""","""vitest --browser.enabled""","""page.getByText() works in tests""",https://vitest.dev/guide/browser/context.html
Vite Integration,"""Transform failed""",Module transformation issues with Vite,"""Configure deps.optimizer.web.enabled: true""","""Add problematic modules to server.deps.inline""","""Update transformMode configuration""","""DEBUG=vite-node:* vitest --run""","""Check file transforms correctly""",https://vitest.dev/config/#deps-optimizer
Performance,"""Tests run slowly""",Poor pool configuration or isolation,"""Set pool: 'threads'""","""Disable isolate: false if safe""","""Configure fileParallelism: false""","""vitest --pool=threads --no-isolate""","""Measure execution time improvement""",https://vitest.dev/guide/improving-performance.html
Performance,"""High memory usage""",Too many concurrent processes,"""Reduce maxConcurrency to 5 or less""","""Use singleFork/singleThread for debugging""","""Enable dependency optimization""","""vitest --pool=forks --poolOptions.forks.singleFork""","""Monitor memory usage during tests""",https://vitest.dev/guide/improving-performance.html
TypeScript,"""Type errors in test files""",Missing Vitest type definitions,"""Add 'vitest/globals' to tsconfig types""","""Import types directly from vitest""","""Add reference types comments""","""tsc --noEmit""","""TypeScript compilation succeeds""",https://vitest.dev/guide/migration.html#type-definitions
Workspace,"""Project not found""",Incorrect project configuration in workspace,"""Check project name matches config""","""Verify workspace file syntax""","""Use --project flag to test specific projects""","""vitest --project=unit""","""Specific project runs successfully""",https://vitest.dev/guide/workspace.html
ESM,"""Cannot use import statement outside module""",Module system configuration issues,"""Ensure type: 'module' in package.json""","""Configure test.environment properly""","""Use dynamic imports for CommonJS modules""","""node --input-type=module -e 'import \"./test.js\"'""","""ESM imports work in tests""",https://vitest.dev/guide/migration.html#esm--typescript
Coverage,"""Coverage not generated""",Missing coverage configuration,"""Install coverage provider: npm i -D @vitest/coverage-v8""","""Enable coverage.enabled: true""","""Configure coverage.provider properly""","""vitest --coverage""","""Coverage report generated""",https://vitest.dev/guide/coverage.html
HMR,"""Tests don't re-run on file changes""",Watch mode not detecting changes,"""Configure watchTriggerPatterns""","""Check file extensions in include patterns""","""Verify Vite dev server is running""","""vitest --watch --reporter=verbose""","""File changes trigger test re-runs""",https://vitest.dev/config/#watchtriggerpatterns
Snapshot,"""Snapshot format different from Jest""",Different snapshot serialization,"""Configure snapshotFormat.printBasicPrototype: true""","""Update snapshots with --update-snapshots""","""Add custom serializers if needed""","""vitest --update-snapshots""","""Snapshots match expected format""",https://vitest.dev/guide/snapshot.html
Mocking,"""Module mocking not working in browser""",Browser environment limitations,"""Use { spy: true } option in vi.mock""","""Import module before mocking""","""Configure server.deps.inline for external modules""","""vitest --browser.enabled --reporter=verbose""","""Mock functions are called correctly""",https://vitest.dev/guide/browser/#mocking
Framework Integration,"""React components not rendering""",Missing React plugin or setup,"""Add @vitejs/plugin-react to config""","""Install @testing-library/react""","""Configure jsdom environment""","""vitest --environment=jsdom""","""React components render in tests""",https://vitest.dev/guide/browser/#framework-integration
Framework Integration,"""Vue components failing""",Incorrect Vue plugin configuration,"""Add @vitejs/plugin-vue to config""","""Install @vue/test-utils""","""Configure browser mode for component tests""","""vitest --browser.provider=playwright""","""Vue components mount successfully""",https://vitest.dev/guide/browser/#framework-integration
Environment,"""DOM methods not available""",Wrong test environment,"""Set environment: 'jsdom' or 'happy-dom'""","""Enable browser mode for real DOM""","""Install jsdom: npm i -D jsdom""","""vitest --environment=jsdom""","""document.createElement works""",https://vitest.dev/guide/environment.html
CLI,"""Command not found: vitest""",Vitest not installed globally or locally,"""Install locally: npm i -D vitest""","""Use npx: npx vitest""","""Add to package.json scripts""","""which vitest || npx vitest --version""","""vitest command executes successfully""",https://vitest.dev/guide/cli.html
API,"""expect.element not found""",Missing browser-specific matchers,"""Import expect from '@vitest/browser/context'""","""Add browser matcher types to tsconfig""","""Enable browser mode in configuration""","""vitest --browser.enabled""","""expect.element assertions work""",https://vitest.dev/guide/browser/assertion-api.html